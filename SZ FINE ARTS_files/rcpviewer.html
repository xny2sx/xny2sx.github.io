<!DOCTYPE html>
<!-- saved from url=(0785)https://ding.wix.com/rcpviewer.html?cacheKiller=1543997640958&compId=comp-jchbdzak&deviceType=desktop&height=38&instance=XzuAQIvzLHpZRhDyBAR0Klq8CexnCwIJrzrKD4tk55k.eyJpbnN0YW5jZUlkIjoiNmYzYjY3NDMtYjE5NC00Y2NmLWExZjctMWVlYWZkYmRmMTgxIiwiYXBwRGVmSWQiOiIxNDI5ZTIwNC0yMjU0LTdmNDAtODM2Yi01ZmZkNzY5YWM0YzAiLCJtZXRhU2l0ZUlkIjoiNjhkOGNmOTMtNTQ4OS00MWU4LWExY2MtYWQ1N2ZlMDA4MjkzIiwic2lnbkRhdGUiOiIyMDE4LTEyLTA1VDEwOjM3OjA2LjczM1oiLCJ1aWQiOm51bGwsImlwQW5kUG9ydCI6Ijc3LjE4My4xMDEuMjMzLzYyOTQ4IiwidmVuZG9yUHJvZHVjdElkIjpudWxsLCJkZW1vTW9kZSI6ZmFsc2UsImFpZCI6ImYxZjg4NmIyLTFlZjgtNGRmMi05NTU4LTRjYjdmOTZiZjdjNyIsImJpVG9rZW4iOiIwN2UzYThkMC1lNTFkLTBkMjctMDAzYi1iM2JkMDNiZDczMTIiLCJzaXRlT3duZXJJZCI6ImJkZDQ5OGM3LTVmYTItNGE2NS1iMzExLTlkZmM4M2RmZTIyNyJ9&locale=en&pageId=masterPage&viewMode=site&width=400 -->
<html lang="en" style="background-color: transparent; overflow: hidden; width:100%; height:100%"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Copyrights view</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <meta name="robots" content="noindex, nofollow">
    <meta name="test_by_ronny_rcpviewer" content="">

    <link rel="stylesheet" href="./fontFace.css">
    <style wix-style="">
        .rcp-text {
            color: rgba(95,94,93,0.8); /* style parameter */
            font:normal normal normal 15px/1.4em avenir-lt-w01_35-light1475496,sans-serif;
        }
    </style>
    
    
    <!--<base href="/">--><base href=".">
<style wix-style="">.Title{ font:normal normal normal 14px/1.4em "eb garamond",serif; } .Menu{ font:normal normal normal 16px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif; } .Page-title{ font:normal normal normal 35px/1.4em "メイリオ",meiryo,"ヒラギノ角ゴ pro w3","hiragino kaku gothic pro",sans-serif; } .Heading-XL{ font:normal normal normal 61px/1.4em anton,sans-serif; } .Heading-L{ font:normal normal normal 62px/1.4em niconne,fantasy; } .Heading-M{ font:normal normal normal 29px/1.4em "eb garamond",serif; } .Heading-S{ font:normal normal normal 22px/1.4em "eb garamond",serif; } .Body-L{ font:normal normal normal 20px/1.4em avenir-lt-w01_35-light1475496,sans-serif; } .Body-M{ font:normal normal normal 15px/1.4em avenir-lt-w01_35-light1475496,sans-serif; } .Body-S{ font:normal normal normal 14px/1.4em "eb garamond",serif; } .Body-XS{ font:normal normal normal 12px/1.4em din-next-w01-light,din-next-w02-light,din-next-w10-light,sans-serif; } }</style><link type="text/css" rel="stylesheet" href="./css" id="wix-google-fonts"><link type="text/css" rel="stylesheet" href="./languages.css"></head>
<body style="background-color: transparent; overflow: hidden; width:100%; height:100%" oncontextmenu="return false">
<!-- Add your site or application content here -->
<div>
    <span id="rcptext" class="rcp-text">Copyright © 2017-2018 SZ Fine Arts</span>
</div>

<script src="./Wix.js"></script>

<script>

    function updateIframes(parentDomain) {
        var fDoc = window.document;
        var rcpMainIframeId = 'rcpMain';

        var data = encodeURIComponent(JSON.stringify(window.config));
        var service = '/ding-dashboard-statics/1.102.0';
        var rcpScriptUrl = '/rcp/rcp.html?data=' + data;// + '&ck=' + (new Date()).getTime();
        var rcpMainSrc;

        if(window.location.host.indexOf('local.wix.com') > -1) {
            rcpMainSrc = 'http://local.wix.com:9000' + rcpScriptUrl;
        } else if(Wix.Utils.getViewMode() === 'preview' || Wix.Utils.getViewMode() === 'editor') {
            rcpMainSrc = '//editor.wix.com' + '/_partials' + service + rcpScriptUrl;
        } else {
            rcpMainSrc = parentDomain + '/_partials' + service + rcpScriptUrl;
        }

        var iframe = fDoc.getElementById(rcpMainIframeId);
        if (!iframe) {
            iframe = fDoc.createElement('iframe');
            iframe.id = rcpMainIframeId;
            iframe.src = rcpMainSrc;
            iframe.style.backgroundColor = "transparent";
            iframe.frameBorder = "0";
            iframe.allowTransparency="true";
            iframe.style.width = '0';
            iframe.style.height = '0';
            fDoc.body.appendChild(iframe);
            //console.log('rcp span added ' + i + ' on ' + fDoc.location.origin + fDoc.location.pathname)
        } else {
            //console.log('rcp span exists ' + i + ' on ' + fDoc.location.origin + fDoc.location.pathname)
            if(iframe.src != rcpMainSrc) {
                iframe.src = rcpMainSrc;
            }
        }

        var rcpTpaIframeId = 'rcpTpa';
        var protocol = 'https:';
        if(Wix.Utils.getViewMode() === 'preview' || Wix.Utils.getViewMode() === 'editor') {
//            protocol = 'http:';
            protocol = window.location.protocol; //this is supposed to work when the editor itself is in https
        }
        var rcpTpaSrc = protocol + '//static.parastorage.com/services' + service + rcpScriptUrl + '&frames=true';

        iframe = fDoc.getElementById(rcpTpaIframeId);
        if (!iframe) {
            iframe = fDoc.createElement('iframe');
            iframe.id = rcpTpaIframeId;
            iframe.src = rcpTpaSrc;
            iframe.style.backgroundColor = "transparent";
            iframe.frameBorder = "0";
            iframe.allowTransparency="true";
            iframe.style.width = '0';
            iframe.style.height = '0';
            fDoc.body.appendChild(iframe);
            //console.log('rcp span added ' + i + ' on ' + fDoc.location.origin + fDoc.location.pathname)
        } else {
            iframe.src = rcpTpaSrc;
            //console.log('rcp span exists ' + i + ' on ' + fDoc.location.origin + fDoc.location.pathname)
        }

    }
    function updateText(){
        Wix.Styles.getStyleParams(function(styleParams) {
            //styleParams is a map with all style values
            //{colors:{}, numbers:{}, booleans:{}, fonts:{}}
            //which were configured by the user.
            var t= window.document.getElementById('rcptext');
            if(t){
                t.innerHTML = window.config.t;
                t.style.color = styleParams.colors['textColor'];
            }
        });
    }
    function repositionIfNeeded(section) {
        //position the widget on footer
        if (Wix.Utils.getViewMode() == 'editor') {
            //get ds
            document.domain = 'wix.com';
            var documentServices = window.parent.documentServices;
            if (documentServices) {
                //get pointers
                var myPointer = {type: "DESKTOP", id: Wix.Utils.getCompId()};
                var containerPointer = {type: "DESKTOP", id: ((section == 'h') ? "SITE_HEADER" : "SITE_FOOTER")};
                var footerPos = documentServices.components.layout.get(containerPointer);
                //first attach to footer
                var myConteiner = documentServices.components.getContainer(myPointer);
                if (!myConteiner || (myConteiner.id != containerPointer.id || myConteiner.type != containerPointer.type)) {
                    //scroll to the conteiner
                    try {
                        var pageData = documentServices.pages.data.get(documentServices.pages.getCurrentPageId());
                        if(pageData && pageData.isLandingPage == true) {
                            //find the first page to navigate to
                            var pagesData = documentServices.pages.getPagesData();
                            var selectedPageId;
                            for (var i = 0; i < pagesData.length; i++) {
                                if (pagesData[i].isLandingPage == false) {
                                    selectedPageId = pagesData[i].id;
                                }
                            }
                            if (selectedPageId) {
                                documentServices.pages.navigateTo(selectedPageId, function () {
                                    window.setTimeout(function(){
                                        var footerPosNewPage = documentServices.components.layout.get(containerPointer);//get footer pos on new page
                                        //console.log(footerPosNewPage);
                                        window.top.$('#scrollableEditorStage').animate({ scrollTop: footerPosNewPage.y + 100 }, 1000,'swing', function () {
                                            documentServices.components.setContainer(myPointer, containerPointer);
                                            fixPos(documentServices, myPointer, footerPosNewPage);
                                        });
                                    }, 1000);
                                });
                            }
                            else {
                                window.top.$('#scrollableEditorStage').animate({scrollTop: footerPos.y + 100}, 1000, 'swing', function () {
                                    documentServices.components.setContainer(myPointer, containerPointer);
                                    fixPos(documentServices, myPointer, footerPos);
                                });
                            }
                        } else {
                            window.top.$('#scrollableEditorStage').animate({scrollTop: footerPos.y + 100}, 1000, 'swing', function () {
                                documentServices.components.setContainer(myPointer, containerPointer);
                                fixPos(documentServices, myPointer, footerPos);
                            });
                        }
                    } catch (e) {
                        console.warn('failed to scroll rcp', e);
                    }
                } else {
                    fixPos(documentServices, myPointer, footerPos);
                }
            }
        }
    }




    function fixPos(documentServices, myPointer, footerPos) {
        //then make sure we are on the footer
        var pos = documentServices.components.layout.get(myPointer);
        var posChanged = false;
        if (pos.width > footerPos.width) {
            pos.width = footerPos.width;
            posChanged = true;
        }
        if (pos.height > footerPos.height) {
            pos.height = footerPos.height;
            posChanged = true;
        }
        if (pos.y < 0) {
            pos.y = 0;
            posChanged = true;
        }
        if (pos.x < 0) {
            pos.x = 0;
            posChanged = true;
        }
        if (pos.x + pos.width > footerPos.width) {
            pos.x = footerPos.width - pos.width;
            posChanged = true;
        }
        if (pos.y + pos.height > footerPos.height) {
            pos.y = footerPos.height - pos.height;
            posChanged = true;
        }
        if (posChanged) {
            documentServices.components.layout.update(myPointer, pos);
        }
    }

    function refreshConfig() {
        Wix.Data.Public.get('rcp', { scope: 'APP' }, function(rcpConfig){
            if(rcpConfig && rcpConfig['rcp']){
                window.config = JSON.parse(decodeURIComponent(rcpConfig['rcp']));
                repositionIfNeeded(window.config.p);
            }
            updateIframes(window.baseUrl);
            updateText();
        },function(error) {
            //no data inserted yet
            repositionIfNeeded(window.config.p);
            updateIframes(window.baseUrl);
            updateText();
        });

    }
    window.config = {
        r: {
            v: true
        },
        t: "© Copyrights",
        p: "f"
    };
    Wix.getSiteInfo(function(info){
        //console.log(info);

        var pathArray = info.baseUrl.split( '/' );
        var protocol = pathArray[0];
        var host = pathArray[2];
        window.baseUrl = protocol + '//' + host;
        Wix.addEventListener(Wix.Events.PAGE_NAVIGATION, function() {
//            console.log('page change ', Wix.getCurrentPageId());
            updateIframes(window.baseUrl);
        });
        refreshConfig();
    });
    Wix.addEventListener(Wix.Events.STYLE_PARAMS_CHANGE, refreshConfig);
    Wix.addEventListener(Wix.Events.EDIT_MODE_CHANGE, refreshConfig);
    Wix.addEventListener(Wix.Events.SETTINGS_UPDATED, refreshConfig);


    //rcp self
    var rcpScriptId = 'rcp-script';
    var fDoc = window.document;
    if(!fDoc.getElementById(rcpScriptId)){
        var script = fDoc.createElement('script');
        script.id = rcpScriptId;
        script.type = 'text/javascript';
        fDoc.body.appendChild( script );
        fDoc.body.setAttribute("oncontextmenu","return false");
        //console.log('rcp simple added '+ i + ' on ' + fDoc.location.origin + fDoc.location.pathname);
    } else {
        //console.log('rcp simple exists '+ i + ' on ' + fDoc.location.origin + fDoc.location.pathname);
    }




</script><script id="rcp-script" type="text/javascript"></script>




<iframe id="rcpMain" src="./rcp.html" frameborder="0" style="background-color: transparent; width: 0px; height: 0px;"></iframe><iframe id="rcpTpa" src="./rcp(1).html" frameborder="0" style="background-color: transparent; width: 0px; height: 0px;"></iframe></body></html>